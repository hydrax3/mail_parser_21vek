# Yandex Mail Parser & Notification System

## Цель (Goal)
Проект предназначен для автоматизации обработки входящих писем Яндекс.Почты и мониторинга работы операторов.
Основные функции:
- **Парсинг писем**: Скрипт подключается к почте по IMAP, сканирует входящие/исходящие письма и сохраняет структуру диалогов в Google Sheets.
- **Отслеживание статусов**: Автоматически определяет статус обращения ("ответа нет", "оператор ответил", "ответ не от оператора") и время последней активности.
- **Логирование активности**: Ведет статистику по операторам (количество ответов, задержки).
- **Архивация**: Автоматически переносит старые/неактивные ветки переписки в архивную таблицу.
- **Уведомления**: Desktop-приложение (Electron) для уведомления операторов о новых задачах или нарушениях SLA.

## Стек (Stack)

### Backend (Python)
- **Язык**: Python 3.11+
- **Библиотеки**:
    - `imap-tools`: Работа с протоколом IMAP.
    - `gspread`, `google-auth`: Интеграция с Google Sheets API.
    - `python-dotenv`: Управление переменными окружения.

### Client (Electron)
- **Фреймворк**: Electron (Node.js)
- **Назначение**: Приложение для уведомлений и быстрого доступа к задачам.

### CI/CD
- **GitHub Actions**: Автоматический запуск парсера по расписанию (каждые 10 минут).

## Как запустить (How to Run)

### 1. Настройка окружения
Создайте файл `.env` в корне проекта и укажите необходимые переменные:
```env
YANDEX_EMAIL=your_email@yandex.ru
YANDEX_PASSWORD=your_app_password
GOOGLE_SHEET_URL=https://docs.google.com/spreadsheets/d/...
```
Также потребуется файл `credentials.json` с ключами сервисного аккаунта Google API.

### 2. Запуск Парсера (Python)
Установите зависимости и запустите скрипт:
```bash
# Установка зависимостей
pip install -r requirements.txt

# Запуск парсера
python parser.py
```

### 3. Запуск Client App (Electron)
Перейдите в папку приложения и запустите его:
```bash
cd notification_app

# Установка зависимостей
npm install

# Запуск в режиме разработки
npm start
```
